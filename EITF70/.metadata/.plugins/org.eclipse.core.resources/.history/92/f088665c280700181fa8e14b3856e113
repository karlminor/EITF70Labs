/*.global readSwitches_writeLed_Assembly
.text
.ent readSwitches_writeLed_Assembly

readSwitches_writeLed_Assembly:
	lwi r11,r0, 0x40020000
	swi r11,r0, 0x40010000
	rtsd r15,8
	nop
.end readSwitches_writeLed_Assembly
*/

.global function
.text
.ent function
function:
			addi r1,r1,-4
			swi r15,r1,0
			lwi r5,r0, 0x40020000
			brlid r15, number_of_ones
			nop
			add r5,r3,r0
			brlid r15,translateN
			nop
			swi r3,r0,0x40010000
			lwi r15,r1,0
			addi r1,r1,4
			rtsd r15, 8
			nop
.end function


.global number_of_ones
.text
.ent number_of_ones
number_of_ones:
			add r3,r0,r0
while: 		beqid r5, result
			nop
			andi r4,r5,1
			add r3,r3,r4
			sra r5,r5
			brid while
			nop
result: 	rtsd r15, 8
			nop
.end number_of_ones

.global translateN
.text
.ent translateN
translateN:
			addi r3,r0,1
again: 		beqid r5, done
			nop
			addi r5,r5,-1
			add r3,r3,r3
			brid again
			nop
done: 		addi r3,r3,-1
			rtsd r15, 8
			nop
.end translateN
